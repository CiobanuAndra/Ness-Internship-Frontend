<div class="table-container">
    <!-- Tasks Table -->
    <mat-table *ngIf="selectedTable === 'Tasks'" [dataSource]="dataSourceTasks" matSort (matSortChange)="announceSortChange($event)" class="mat-elevation-z8">
        <ng-container matColumnDef="icon">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let task;"> 
                <img src="{{ task.icon }}" alt="SVG Icon" class="mat-cell-img">
            </mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">name</mat-header-cell>
            <mat-cell *matCellDef="let task;"> {{ task.name }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="type">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by type">type</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.type }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="courses">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by courses">course</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.courses }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="order">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by order">order</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.order }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="length">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by length">length</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.length }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="rewards">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by rewards">rewards</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.rewards }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="dateAdded">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by dateAdded">date added</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.dateAdded | date:'dd-MM-yyyy' }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="lastEdited">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by lastEdited">last edited</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.lastEdited | date:'dd-MM-yyyy' }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="editedBy">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by editedBy">edited by</mat-header-cell>
            <mat-cell *matCellDef="let task"> {{ task.editedBy }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="options">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let element"> 
                <button mat-icon-button>
                    <mat-icon>more_vert</mat-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="columnsToDisplayTasks"></mat-header-row>
        <mat-row *matRowDef="let row; columns: columnsToDisplayTasks;"></mat-row>
    </mat-table>

    <!-- Courses Table -->
    <mat-table *ngIf="selectedTable === 'Courses'" [dataSource]="dataSourceCourses" matSort (matSortChange)="announceSortChange($event)" class="mat-elevation-z8">
        <ng-container matColumnDef="name">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">name</mat-header-cell>
            <mat-cell *matCellDef="let course;"> {{ course.name }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="link">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by type">link/file</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.link }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="fileType">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by type">file type</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.fileType }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="length">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by courses">length</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.length }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="rewards">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by order">rewards</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.rewards }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="dateAdded">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by dateAdded">date added</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.dateAdded | date:'dd-MM-yyyy' }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="lastEdited">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by lastEdited">last edited</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.lastEdited | date:'dd-MM-yyyy' }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="editedBy">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by editedBy">edited by</mat-header-cell>
            <mat-cell *matCellDef="let course"> {{ course.editedBy }}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="options">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let course"> 
                <button mat-icon-button>
                    <mat-icon>more_vert</mat-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="columnsToDisplayCourses"></mat-header-row>
        <mat-row *matRowDef="let row; columns: columnsToDisplayCourses;"></mat-row>
    </mat-table>

    <!-- Avatars Table -->
    <mat-table  *ngIf="selectedTable === 'Avatars'" [dataSource]="dataSourceAvatars" matSort (matSortChange)="announceSortChange($event)" class="mat-elevation-z8">
        <ng-container matColumnDef="name">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by name">name</mat-header-cell>
            <mat-cell *matCellDef="let avatar;"> {{ avatar.name }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="linked_to">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by linked_to">linked to</mat-header-cell>
            <mat-cell *matCellDef="let avatar"> {{ avatar.linked_to }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="default">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by default">default</mat-header-cell>
            <mat-cell *matCellDef="let avatar"> {{ avatar.default? 'Yes' : 'No' }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="addedBy">
            <mat-header-cell class="header-cell" *matHeaderCellDef mat-sort-header sortActionDescription="Sort by addedBy">added by</mat-header-cell>
            <mat-cell *matCellDef="let avatar"> {{ avatar.addedBy }}</mat-cell>
        </ng-container>
        
        <ng-container matColumnDef="options">
            <mat-header-cell *matHeaderCellDef></mat-header-cell>
            <mat-cell *matCellDef="let avatar"> 
                <button mat-icon-button>
                    <mat-icon>more_vert</mat-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="columnsToDisplayAvatars"></mat-header-row>
        <mat-row *matRowDef="let row; columns: columnsToDisplayAvatars;"></mat-row>
    </mat-table>

    <!-- State: No Data -->
    <div *ngIf="selectedTable === 'Tasks' && dataSourceTasks.data.length === 0">
        <div class="table-with-no-data">
            <img src="assets/icons/task.svg" alt="task-icon" class="task-icon">
            <p class="no-data-message">No tasks to display!</p>
        </div>
    </div>
    
    <div *ngIf="selectedTable === 'Courses' && dataSourceCourses.data.length === 0">
        <div class="table-with-no-data">
            <img src="assets/icons/course.svg" alt="task-icon" class="task-icon">
            <p class="no-data-message">No courses to display!</p>
        </div>
    </div>
    
    <div *ngIf="selectedTable === 'Avatars' && dataSourceAvatars.data.length === 0">
        <div class="table-with-no-data">
            <img src="assets/icons/avatar.svg" alt="task-icon" class="task-icon">
            <p class="no-data-message">No avatars to display!</p>
        </div>
    </div>
    
</div>